"0"," revenue_long<- reveune_clean %>% "
"0","gather(month,revenue,2:116) %>%"
"0","  filter (!is.na(revenue)) %>% "
"0","  group_by(crm) %>%"
"0","    mutate(rank = order(order(month, decreasing=FALSE)))"
"0","  "
"0"," revenue_count<- revenue_long %>% "
"0","   group_by(crm) %>% "
"0","    summarise(toal_month = n())"
"0"," revenue_combo <- revenue_long %>% "
"0","    left_join(revenue_count, by = ""crm"") %>% "
"0","   group_by(crm) %>% "
"0","   filter(toal_month>=6) %>% "
"0","   "
"0","   mutate(length=ifelse(toal_month<12,1,ifelse(toal_month<24,2,0)))"
"0"," "
"0","##Obs dropped from 530 to 482 when practice who joined less than 6 months are dropped, 48 practices were dropped"
"0","# revenue_count2<- revenue_combo %>% "
"0","#  group_by(crm) %>% "
"0","#  summarise(toal_month = n()) %>% "
"0","#  filter(toal_month>=6)"
"0","  "
